var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,c;function i(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e,n){t.classList[n?"add":"remove"](e)}function w(t){c=t}function y(){if(!c)throw new Error("Function called outside component initialization");return c}function k(t){y().$$.on_mount.push(t)}function v(){const t=y();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}(e,n,{cancelable:o});return s.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}const x=[],j=[];let _=[];const E=[],C=Promise.resolve();let M=!1;function z(t){_.push(t)}const I=new Set;let A=0;function F(){if(0!==A)return;const t=c;do{try{for(;A<x.length;){const t=x[A];A++,w(t),L(t.$$)}}catch(t){throw x.length=0,A=0,t}for(w(null),x.length=0,A=0;j.length;)j.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];I.has(e)||(I.add(e),e())}_.length=0}while(x.length);for(;E.length;)E.pop()();M=!1,I.clear(),w(t)}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const P=new Set;let O;function S(){O={r:0,c:[],p:O}}function R(){O.r||o(O.c),O=O.p}function T(t,e){t&&t.i&&(P.delete(t),t.i(e))}function q(t,e,n,o){if(t&&t.o){if(P.has(t))return;P.add(t),O.c.push((()=>{P.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function N(t,e){q(t,1,1,(()=>{e.delete(t.key)}))}function U(t){t&&t.c()}function H(t,n,r,a){const{fragment:c,after_update:i}=t.$$;c&&c.m(n,r),a||z((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(z)}function W(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];_.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),_=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(x.push(t),M||(M=!0,C.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,s,r,a,i,l,u,d=[-1]){const h=c;w(e);const p=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||h.$$.root};u&&u(p.root);let m=!1;if(p.ctx=r?r(e,s.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),m&&B(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();s.intro&&T(e.$$.fragment),H(e,s.target,s.anchor,s.customElement),F()}w(h)}class G{$destroy(){W(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(e){let n,s,r,a,c,l,p,w,y;return{c(){n=h("div"),s=h("div"),a=m(),c=h("div"),l=h("img"),$(s,"class",r="card-face card-face-front "+e[0]+" svelte-hfinwn"),i(l.src,p=e[1].img)||$(l,"src",p),$(l,"alt","Card image"),$(l,"class","svelte-hfinwn"),$(c,"class","card-face card-face-back svelte-hfinwn"),$(n,"class","card svelte-hfinwn"),b(n,"card-finished",e[3]),b(n,"flipped",e[2])},m(t,o){d(t,n,o),u(n,s),u(n,a),u(n,c),u(c,l),w||(y=[g(n,"touchstart",e[4],{passive:!0}),g(n,"click",e[4])],w=!0)},p(t,[e]){1&e&&r!==(r="card-face card-face-front "+t[0]+" svelte-hfinwn")&&$(s,"class",r),2&e&&!i(l.src,p=t[1].img)&&$(l,"src",p),8&e&&b(n,"card-finished",t[3]),4&e&&b(n,"flipped",t[2])},i:t,o:t,d(t){t&&f(n),w=!1,o(y)}}}function K(t,e,n){const o=v();let s,{cardId:r}=e,{color:a}=e,{rsc:c}=e,i=!1,l=!1;function u(){s&&s.play()}return k((()=>{c.audio&&(s=new Audio(c.audio))})),t.$$set=t=>{"cardId"in t&&n(5,r=t.cardId),"color"in t&&n(0,a=t.color),"rsc"in t&&n(1,c=t.rsc)},[a,c,i,l,function(){l?u():i||(n(2,i=!0),console.log(`Flipped card ${r}: ${i}`),o("shown",{rsc:c,hideCallback:()=>{n(2,i=!1)},cardFinishedCallback:()=>{n(3,l=!0)},playIfPossibleCallback:u}))},r]}class Q extends G{constructor(t){super(),D(this,t,K,J,r,{cardId:5,color:0,rsc:1})}}const V=[];function X(e,n=t){let o;const s=new Set;function a(t){if(r(e,t)&&(e=t,o)){const t=!V.length;for(const t of s)t[1](),V.push(t,e);if(t){for(let t=0;t<V.length;t+=2)V[t][0](V[t+1]);V.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(r,c=t){const i=[r,c];return s.add(i),1===s.size&&(o=n(a)||t),r(e),()=>{s.delete(i),0===s.size&&o&&(o(),o=null)}}}}const Y=[{img:"assets/zeman.jpg",audio:"assets/kunda.mp3"},{img:"assets/babis.jpg",audio:"assets/troskujsemtoposral.mp3"},{img:"assets/skromach.jpg",audio:"assets/skromach-ohne.mp3"},{img:"assets/rozner.jpg",audio:"assets/rozner-kritizovat.mp3"},{img:"assets/kalousek.jpg",audio:"assets/kalousek-kokoti.mp3"},{img:"assets/schillerova.jpg",audio:"assets/schillerova-we-will-see.mp3"},{img:"assets/ondracek.jpg",audio:"assets/ondracek-revoluce.mp3"},{img:"assets/volny.jpg",audio:"assets/volny-flakanec.mp3"},{img:"assets/malacova.jpg",audio:"assets/malacova-plytka.mp3"},{img:"assets/paroubek.jpg",audio:"assets/paroubek-ufouni.mp3"},{img:"assets/pitomio.jpg",audio:"assets/pitomio-plysaci.mp3"},{img:"assets/sobotka.jpg",audio:"assets/sobotka-english.mp3"},{img:"assets/foldyna.jpg",audio:"assets/foldyna-vlastenec.mp3"},{img:"assets/novotny.jpg",audio:"assets/novotny-sparta.mp3"},{img:"assets/klaus.jpg"},{img:"assets/schwarzenberg.jpg"},{img:"assets/vondracek.jpg"},{img:"assets/bartos.jpg"}],Z={subscribe:X(void 0,(async function(t){let e=[];try{const n=Y.map((async t=>{const e=fetch(t.img).then((t=>t.blob())).then((t=>URL.createObjectURL(t))),n=t.audio?fetch(t.audio).then((t=>t.blob())).then((t=>URL.createObjectURL(t))):null,[o,s]=await Promise.all([e,n]);return{img:o,audio:s}}));e=await Promise.all(n),t(e)}catch(t){alert(t)}})).subscribe};function tt(t,e,n){const o=t.slice();return o[7]=e[n],o}function et(t,e){let n,o,s;return o=new Q({props:{color:ot(e[7]),cardId:e[7],rsc:e[1]()}}),o.$on("shown",e[2]),{key:t,first:null,c(){n=p(""),U(o.$$.fragment),this.first=n},m(t,e){d(t,n,e),H(o,t,e),s=!0},p(t,n){e=t;const s={};1&n&&(s.color=ot(e[7])),1&n&&(s.cardId=e[7]),o.$set(s)},i(t){s||(T(o.$$.fragment,t),s=!0)},o(t){q(o.$$.fragment,t),s=!1},d(t){t&&f(n),W(o,t)}}}function nt(t){let e,n,s,r=[],a=new Map,c=t[0];const i=t=>t[7];for(let e=0;e<c.length;e+=1){let n=tt(t,c,e),o=i(n);a.set(o,r[e]=et(o,n))}return{c(){e=h("div"),n=h("div");for(let t=0;t<r.length;t+=1)r[t].c();$(n,"class","container svelte-1o9rxor"),$(e,"class","outer-container svelte-1o9rxor")},m(t,o){d(t,e,o),u(e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);s=!0},p(t,[e]){7&e&&(c=t[0],S(),r=function(t,e,n,s,r,a,c,i,l,u,d,f){let h=t.length,p=a.length,m=h;const g={};for(;m--;)g[t[m].key]=m;const $=[],b=new Map,w=new Map,y=[];for(m=p;m--;){const t=f(r,a,m),o=n(t);let i=c.get(o);i?s&&y.push((()=>i.p(t,e))):(i=u(o,t),i.c()),b.set(o,$[m]=i),o in g&&w.set(o,Math.abs(m-g[o]))}const k=new Set,v=new Set;function x(t){T(t,1),t.m(i,d),c.set(t.key,t),d=t.first,p--}for(;h&&p;){const e=$[p-1],n=t[h-1],o=e.key,s=n.key;e===n?(d=e.first,h--,p--):b.has(s)?!c.has(o)||k.has(o)?x(e):v.has(s)?h--:w.get(o)>w.get(s)?(v.add(o),x(e)):(k.add(s),h--):(l(n,c),h--)}for(;h--;){const e=t[h];b.has(e.key)||l(e,c)}for(;p;)x($[p-1]);return o(y),$}(r,e,i,1,t,c,a,n,N,et,null,tt),R())},i(t){if(!s){for(let t=0;t<c.length;t+=1)T(r[t]);s=!0}},o(t){for(let t=0;t<r.length;t+=1)q(r[t]);s=!1},d(t){t&&f(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function ot(t){return t%6<2?"white":t%6<4?"red":"blue"}function st(t,e,n){let o;l(t,Z,(t=>n(6,o=t)));let s,r=[],a=null,c=null;return k((()=>{s=o.flatMap((t=>[t,t])),n(0,r=Array.from({length:36},((t,e)=>e)))})),[r,function(){const t=Math.floor(Math.random()*s.length);return s.splice(t,1)[0]},function(t){let e=t.detail;if(null==a)return c&&(c(),c=null),void(a=e);if(a.rsc==e.rsc)e.cardFinishedCallback(),a.cardFinishedCallback(),a.playIfPossibleCallback(),a=null;else{let t=setTimeout(e.hideCallback,5e3),n=setTimeout(a.hideCallback,5e3),o=e.hideCallback,s=a.hideCallback;c=()=>{clearTimeout(t),clearTimeout(n),o(),s()},a=null}}]}class rt extends G{constructor(t){super(),D(this,t,st,nt,r,{})}}function at(e){let n,o,s;return{c(){n=h("canvas"),$(n,"class","svelte-15nsus0")},m(t,r){d(t,n,r),e[2](n),o||(s=g(n,"resize",e[1]),o=!0)},p:t,i:t,o:t,d(t){t&&f(n),e[2](null),o=!1,s()}}}function ct(t,e,n){let o,s,r,a=[];function c(){s.clearRect(0,0,o.width,o.height),a.forEach((t=>{t.y+=2,t.rotation+=.025,t.y>o.height&&(t.y=-50,t.x=Math.random()*o.width),s.save(),s.translate(t.x+35,t.y+25),s.rotate(t.rotation),s.drawImage(t.image,-35,-25,70,50),s.restore()})),requestAnimationFrame(c)}return k((()=>{r=Math.round(window.innerWidth*window.innerHeight/23e3),n(0,o.width=window.innerWidth,o),n(0,o.height=window.innerHeight,o),s=o.getContext("2d");for(let t=0;t<r;t++){const t=new Image;t.src="/assets/cz-flag.svg",t.onload=()=>{a.push({x:Math.random()*o.width,y:-Math.random()*o.height,rotation:Math.random()*Math.PI*2,image:t})}}return requestAnimationFrame(c),()=>{var t;y().$$.on_destroy.push(t)}})),[o,function(){n(0,o.width=window.innerWidth,o),n(0,o.height=window.innerHeight,o)},function(t){j[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class it extends G{constructor(t){super(),D(this,t,ct,at,r,{})}}function lt(e){let n,o;return{c(){n=h("div"),o=p(e[0]),$(n,"class","exit-note alert alert-success shadow-sm svelte-3zju3q"),$(n,"role","alert")},m(t,e){d(t,n,e),u(n,o)},p(t,[e]){1&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(o,t[0])},i:t,o:t,d(t){t&&f(n)}}}function ut(t,e,n){let{text:o="Site under construction 🏗️"}=e;return t.$$set=t=>{"text"in t&&n(0,o=t.text)},[o]}class dt extends G{constructor(t){super(),D(this,t,ut,lt,r,{text:0})}}function ft(e){let n,o;return n=new rt({}),{c(){U(n.$$.fragment)},m(t,e){H(n,t,e),o=!0},p:t,i(t){o||(T(n.$$.fragment,t),o=!0)},o(t){q(n.$$.fragment,t),o=!1},d(t){W(n,t)}}}function ht(t){let e,n,o,s;return e=new it({}),o=new dt({props:{text:t[1]}}),{c(){U(e.$$.fragment),n=m(),U(o.$$.fragment)},m(t,r){H(e,t,r),d(t,n,r),H(o,t,r),s=!0},p(t,e){const n={};2&e&&(n.text=t[1]),o.$set(n)},i(t){s||(T(e.$$.fragment,t),T(o.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),q(o.$$.fragment,t),s=!1},d(t){W(e,t),t&&f(n),W(o,t)}}}function pt(t){let e,n,s,r,a,c;const i=[ht,ft],l=[];function u(t,e){return t[0]?1:0}return n=u(t),s=l[n]=i[n](t),{c(){e=h("main"),s.c()},m(o,s){d(o,e,s),l[n].m(e,null),r=!0,a||(c=[g(window,"touchstart",t[2]),g(window,"keydown",t[2]),g(window,"click",t[2])],a=!0)},p(t,[o]){let r=n;n=u(t),n===r?l[n].p(t,o):(S(),q(l[r],1,1,(()=>{l[r]=null})),R(),s=l[n],s?s.p(t,o):(s=l[n]=i[n](t),s.c()),T(s,1),s.m(e,null))},i(t){r||(T(s),r=!0)},o(t){q(s),r=!1},d(t){t&&f(e),l[n].d(),a=!1,o(c)}}}function mt(t,e,n){let o,s,r;l(t,Z,(t=>n(4,r=t)));let a=!1;return t.$$.update=()=>{16&t.$$.dirty&&n(3,o=void 0!==r),8&t.$$.dirty&&n(1,s=o?"press any key to continue":"loading...")},[a,s,function(){o&&n(0,a=!0)},o,r]}return new class extends G{constructor(t){super(),D(this,t,mt,pt,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
